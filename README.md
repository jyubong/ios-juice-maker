# ğŸ¥¤ ì¥¬ìŠ¤ ë©”ì´ì»¤
ë‹¤ì–‘í•œ ì¥¬ìŠ¤ë¥¼ ë§Œë“¤ê³  ì¬ê³ ë¥¼ ê´€ë¦¬í•˜ëŠ” ì–´í”Œ

### ğŸ› ï¸ ì¥¬ë´‰ì´ í˜¼ì ì¶”ê°€ë¡œ refactor í•˜ëŠ” ì¤‘ì…ë‹ˆë‹¤ ğŸ› ï¸

---
## ğŸ” ëª©ì°¨
- [íŒ€ì›](#-íŒ€ì›)
- [íƒ€ì„ë¼ì¸](#-íƒ€ì„ë¼ì¸)
- [ì‹œê°í™” êµ¬ì¡°](#-ì‹œê°í™”-êµ¬ì¡°)
- [ì‹¤í–‰í™”ë©´](#-ì‹¤í–‰í™”ë©´)
- [íŠ¸ëŸ¬ë¸” ìŠˆíŒ…](#-íŠ¸ëŸ¬ë¸”-ìŠˆíŒ…)
- [ì°¸ê³  ë§í¬](#-ì°¸ê³ -ë§í¬)

---
## ğŸ‘¥ íŒ€ì›
|KiseokğŸ¶|ì¥¬ë´‰ì´ğŸ±|
|---|---|
|<img src="https://cdn.discordapp.com/attachments/1146018665737752590/1152107904191701013/IMG_1011.png" width="200" height="200">|<img src="https://avatars.githubusercontent.com/u/126065608?v=4" width="200" height="200">|
|[GitHub](https://github.com/carti1108)|[GitHub](https://github.com/jyubong)|

## ğŸ“… íƒ€ì„ë¼ì¸
### ğŸ‘¥ íŒ€í”„ë¡œì íŠ¸
|ë‚ ì§œ|ë‚´ìš©|
|------|---|
|23.09.11|- ê³µì‹ë¬¸ì„œ ê³µë¶€<br> - ê·¸ë¼ìš´ë“œ ë£° ì •í•˜ê¸°|
|23.09.12|- juicemaker, fruitstore, fruit, juicemenu  íƒ€ì…  ì •ì˜<br> - ì¥¬ìŠ¤ ë§Œë“œëŠ” ë©”ì†Œë“œ, ê³¼ì¼ ì†Œëª¨ì‹œí‚¤ëŠ” ë©”ì†Œë“œ êµ¬í˜„ <br>- Step1 PR|
|23.09.15|- ê³¼ì¼ ì†Œëª¨ì‹œí‚¤ëŠ” ë©”ì†Œë“œ ê¸°ëŠ¥ ë¶„ë¦¬ <br> - ë ˆì‹œí”¼ í•¨ìˆ˜ -> ì£¼ìŠ¤ë©”ë‰´ ì—´ê±°í˜•ì— ì—°ì‚°í”„ë¡œí¼í‹°ë¡œ ìˆ˜ì • <br>- ReadMe ì‘ì„±|
|23.09.18|- ì¬ê³  ë¶€ì¡± ì—ëŸ¬ ì •ì˜ ë° ì²˜ë¦¬ <br> - í™”ë©´ ì „í™˜ êµ¬í˜„(ë„¤ë¹„ê²Œì´ì…˜ ë°©ì‹) <br> - ì¥¬ìŠ¤ ìƒì„± ì™„ë£Œ ë˜ëŠ” ì¬ê³  ë¶€ì¡± alert êµ¬í˜„|
|23.09.19|- í™”ë©´ ì „í™˜ ë°©ì‹ ë„¤ë¹„ê²Œì´ì…˜ ë°©ì‹ì—ì„œ ëª¨ë‹¬ë¡œ ìˆ˜ì • <br> - Step2 PR|
|23.09.20|- ì»¨ë²¤ì…˜ ìˆ˜ì •<br> - classì— final í‚¤ì›Œë“œ ì¶”ê°€<br> - ë©”ì„¸ì§€ namespace ì¶”ê°€|
|23.09.21|- ì˜¤í† ë ˆì´ì•„ì›ƒ ì„¤ì • <br> - stepper(-, +) í´ë¦­ì‹œ í™”ë©´ ë° ì¬ê³  ìˆ˜ì • ë©”ì„œë“œ êµ¬í˜„ <br> - Step3 PR|
|23.09.22|- ì¬ê³  ìˆ˜ì • ë©”ì†Œë“œ ìˆ˜ì •<br> - ViewControllerì˜ IBOutletì„ collectionìœ¼ë¡œ ë³€ê²½<br> - UIë‚˜íƒ€ë‚´ëŠ” ë©”ì„œë“œ ìˆ˜ì •, stepper íƒ­í–ˆì„ ë•Œ ë©”ì„œë“œ ìˆ˜ì •|
|23.09.25|- ì½”ë“œ ë¦¬íŒ©í„°ë§|
|23.09.26|- delegate pattern êµ¬í˜„|
|23.09.27|- UML ì‹œê°í™” êµ¬ì¡° ì‘ì„±<br> - ReadMe ìµœì¢… ì‘ì„±|

### ğŸ‘¤ ê°œë³„ í”„ë¡œì íŠ¸
|ë‚ ì§œ|ë‚´ìš©|
|------|---|
|23.11.09|- dynamic type ì ìš© <br> - accessibilityLabel ìˆ˜ì •|

## ğŸ‘€ ì‹œê°í™” êµ¬ì¡°
### 1. Sequence Diagram
<img width="500" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-09-27 á„‹á…©á„’á…® 2 04 42" src="https://github.com/jyubong/ios-juice-maker/assets/126065608/5cda7caf-9027-48b2-a31c-20bc3c146391">

### 2. Class Diagram
<img width="716" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-09-27 á„‹á…©á„’á…® 2 05 08" src="https://github.com/jyubong/ios-juice-maker/assets/126065608/7f8ddec0-00fb-403c-b56d-a17d1d3c6ae4">

## ğŸ’» ì‹¤í–‰í™”ë©´
|ì¬ê³  ìˆ˜ì • ë²„íŠ¼ í´ë¦­|ì£¼ë¬¸ ì„±ê³µ|
|---|---|
|![á„Œá…¢á„€á…©á„‰á…®á„Œá…¥á†¼ á„‡á…¥á„á…³á†«](https://github.com/jyubong/ios-juice-maker/assets/126065608/875ea584-5470-4148-b12e-ae84ed9d429f)|![á„Œá…®á„†á…®á†« á„‰á…¥á†¼á„€á…©á†¼](https://github.com/jyubong/ios-juice-maker/assets/126065608/49901382-8994-4907-8bc1-3d7723d8402a)|

|ì£¼ë¬¸ ì‹¤íŒ¨(ì¬ê³  ìˆ˜ì • ì˜ˆ)|ì£¼ë¬¸ ì‹¤íŒ¨(ì¬ê³  ìˆ˜ì • ì•„ë‹ˆì˜¤)|
|---|---|
|![á„Œá…¢á„€á…©á„‰á…®á„Œá…¥á†¼ á„‹á…¨](https://github.com/jyubong/ios-juice-maker/assets/126065608/44c14c91-dcc4-4e08-90b3-dc692ce757ff)|![á„Œá…¢á„€á…© á„‡á…®á„Œá…©á†¨ á„‹á…¡á„‚á…µá„‹á…©](https://github.com/jyubong/ios-juice-maker/assets/126065608/6ce3ee48-eee4-4c45-ae70-1f9a0d7f9f0c)|



## ğŸ”¥ íŠ¸ëŸ¬ë¸” ìŠˆíŒ…
1. FruitStoreì˜ decreaseStockë©”ì„œë“œëŠ” ê³¼ì¼ ì¬ê³ ë¥¼ í™•ì¸í•˜ê³  ë¬¸ì œê°€ ì—†ìœ¼ë©´ ê³¼ì¼ ìˆ˜ëŸ‰ì„ ë‚®ì¶”ëŠ” í•¨ìˆ˜. ê³¼ì¼ì„ 2ê°œ ì†Œë¹„í•´ì•¼í• ë•Œ ë‘ ê³¼ì¼ì˜ ì¬ê³ ë¥¼ ë¨¼ì € í™•ì¸í•˜ê³  ìˆ˜ëŸ‰ì„ ë‚®ì¶”ì–´ì£¼ì–´ì•¼í•˜ëŠ”ë°, ì´ë¥¼ êµ¬í˜„í•´ë³´ë‹ˆ `for-loop 2ê°œ`ë¥¼ ì‚¬ìš©í•˜ì—¬ ì½”ë“œê°€ ì§€ì €ë¶„í•´ì§€ëŠ” ë¬¸ì œ ë°œìƒ
-> ì²«ë²ˆì§¸ for-in ë£¨í”„ê°€ isInvalidStock í•¨ìˆ˜ì™€ ê¸°ëŠ¥ì´ ë¹„ìŠ·í•´ isInvalidStockìœ¼ë¡œ ì˜®ê²¨ì¤Œ.

  - ìˆ˜ì • ì „ ì½”ë“œ
```swift
func decreaseStock(fruits: [Fruit : Int]) -> Bool {
    for (fruit, quantity) in fruits {
        guard checkStock(fruit: fruit, quantity: quantity) else {
            return false
        }
    }

    for (fruit, quantity) in fruits {
        guard let stock = fruits[fruit] else {
            return false
        }
        self.fruits[fruit] = stock - quantity
    }

    return true
}
```

  - **ìˆ˜ì • í›„ ì½”ë“œ**
```swift
func isValidStock(of recipe: [Fruit: Int]) -> Bool {
    for (fruit, quantity) in recipe {
        guard let stock = fruits[fruit], stock >= quantity else {
            return false
        }
    }

    return true
}

func decreaseStock(of recipe: [Fruit: Int]) {
    recipe.forEach { (fruit, quantity) in
        guard let stock = fruits[fruit] else { return }
        fruits[fruit] = stock - quantity
    }
}
```

<br>

2. JuiceMakerViewControllerì—ì„œ StockChangeViewControllerë¡œ ë°”ë¡œ modal ì—°ê²°ì„ í–ˆë”ë‹ˆ `navigation barê°€ ì•ˆë‚˜íƒ€ë‚˜ëŠ” ë¬¸ì œ` ë°œìƒ
-> StockChangeViewControllerì— navigationControllerë¥¼ ì—°ê²°í•´ì¤€ í›„ `modalì„ navigationControllerë¥¼ í˜¸ì¶œí•˜ëŠ” ë°©ì‹`ìœ¼ë¡œ ë³€ê²½

``` swift
guard let stockNavigationController = self.storyboard?.instantiateViewController(
    withIdentifier: "StockChangeNavigationController"
) as? UINavigationController else {
    return
}

stockNavigationController.modalPresentationStyle = .fullScreen
self.present(stockNavigationController, animated: true)

```

<br>

3. `stepper ì‚¬ìš© ì‹œ` ì•„ë˜ì™€ ê°™ì€ ë¬¸ì œì ë“¤ì´ ë°œìƒ
    - stepper ì´ˆê¸°ê°’ì´ 0ìœ¼ë¡œ ì„¤ì • -> stepperë³„ ìƒì´í•œ ì´ˆê¸°ê°’ì„ ì–´ë–»ê²Œ ì„¤ì •í• ì§€
    - label ê°’ì´ 0ë³´ë‹¤ ë” ì ì–´ì§€ëŠ” ë¬¸ì œ
    - stepper ê°’ì´ (-)ê°€ ì•ˆë˜ëŠ” ë¬¸ì œ
    -> ì²˜ìŒì— ê° stepperì˜ ì´ˆê¸°ê°’ì„ fruitStoreì˜ ì¬ê³ ë¡œ ì„¤ì •í•˜ëŠ” ê²ƒìœ¼ë¡œ í•´ê²°
``` swift
// stepper ì´ˆê¸°ê°’ ì„¤ì •
private func setStepperValue() {
    Fruit.allCases.enumerated().forEach { (index, fruit) in
        stepperCollection[index].value = Double(fruitStore.fruits[fruit] ?? .zero)
    }
}

// label ê°’ ì„¤ì •
private func setupUI() {
    labelCollection.enumerated().forEach { (index, label) in
        label.text = String(changeStepperValueToInt(at: index))
    }
}

// stepper í´ë¦­ì‹œ label ë³€ê²½
@IBAction func stepperTapped(_ sender: UIStepper) {
    let index = sender.tag
    labelCollection[index].text = String(changeStepperValueToInt(at: index))
}
```

<br>

4. `IBOutlet Collection` ì‚¬ìš© ì‹œ ê° ìš”ì†Œë¥¼ ì–´ë–»ê²Œ êµ¬ë¶„í•˜ê³  ìˆœì„œë¥¼ ì–´ë–»ê²Œ í™•ì¸í•´ì•¼í• ì§€ ê³ ë¯¼
-> didSetì„ í™œìš©í•˜ì—¬ `ê°ê°ì˜ tagê°’ìœ¼ë¡œ ìˆœì„œë¥¼ ì •í•´ì¤Œ`
``` swift
@IBOutlet var stepperCollection: [UIStepper]! {
    didSet {
        stepperCollection.sort { $0.tag < $1.tag }
    }
}
```

<br>

5. ì¬ê³ ìˆ˜ì • í›„ `delegateíŒ¨í„´`ìœ¼ë¡œ ìˆ˜ì •ëœ ì¬ê³ ë¥¼ UIì— ë°˜ì˜í•˜ê¸°ìœ„í•´ JuiceMakerViewControllerì—ì„œ StockChangeViewControllerë¥¼ í˜¸ì¶œí•˜ë ¤ê³  í–ˆìœ¼ë‚˜ ë™ì‘ ì•ˆí•¨
-> NavigationControllerë¥¼ ìƒˆë¡œ ë§Œë“¤ê³  ì¶”ê°€ë¡œ ë˜ StockChangeViewControllerë¥¼ ìƒˆë¡œ ë§Œë“¤ë‹¤ë³´ë‹ˆ ì™„ì „íˆ ë‹¤ë¥¸ ViewControllerê°€ ë˜ì–´ delegateê°€ í˜¸ì¶œì´ ì•ˆë¨
-> NavigationControllerí˜¸ì¶œ í›„ ê·¸ Controllerì˜ topViewControllerë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ë°©ë²•ìœ¼ë¡œ StockChangeViewController í˜¸ì¶œ
  - ë™ì‘ ì•ˆëœ ì½”ë“œ 
``` swift
private func pushToStockViewController() {
    guard let stockNavigationController = self.storyboard?.instantiateViewController(
        withIdentifier: "StockChangeNavigationController"
    ) as? UINavigationController else {
        return
    }

    guard let stockChangeViewController = self.storyboard?.instantiateViewController(
        withIdentifier: "StockChangeViewController"
    ) as? StockChangeViewController else {
        return
    }

    stockChangeViewController.delegate = self
    self.present(stockNavigationController, animated: true)
}
```

  - ìˆ˜ì • ì½”ë“œ
``` swift
private func pushToStockViewController() {
// (ìƒëµ ë¶€ë¶„ ìœ„ì™€ë™ì¼)

    guard let stockChangeViewController = stockNavigationController.topViewController
            as? StockChangeViewController else {
        return
    }

    stockChangeViewController.delegate = self
    self.present(stockNavigationController, animated: true)
}
```


## ğŸ“š ì°¸ê³  ë§í¬
[ì• í”Œ ê³µì‹ë¬¸ì„œ Hashable](https://developer.apple.com/documentation/swift/hashable)   
[ì• í”Œ ê³µì‹ë¬¸ì„œ CustomStringConvertible](https://developer.apple.com/documentation/swift/customstringconvertible)   
[ì• í”Œ ê³µì‹ë¬¸ì„œ UIViewController](https://developer.apple.com/documentation/uikit/uiviewcontroller)   
[ì• í”Œ ê³µì‹ë¬¸ì„œ forEach(_:)](https://developer.apple.com/documentation/swift/array/foreach(_:))   
[ì• í”Œ ê³µì‹ë¬¸ì„œ Protocol](https://docs.swift.org/swift-book/documentation/the-swift-programming-language/protocols/)   
[ì• í”Œ ê³µì‹ë¬¸ì„œ UIAccessibility](https://developer.apple.com/documentation/objectivec/nsobject/uiaccessibility)

---
### íŒ€ íšŒê³ 
<details>
<summary>ìš°ë¦¬íŒ€ì´ ì˜í•œ ì </summary>
    
- í•µì‹¬ê²½í—˜, ìš”êµ¬ì‚¬í•­ ë°˜ì˜ ë…¸ë ¥í•¨
- í”¼ë“œë°±ë°›ì€ ì‚¬í•­ì— ëŒ€í•´ ê³µë¶€í•˜ê³  ì ì ˆíˆ ê°œì„ í•¨
</details>

<details>
<summary>ìš°ë¦¬íŒ€ì´ ê°œì„ í•  ì </summary>

- ë°°ë ¤ê°€ ìˆëŠ” ëª¨ìŠµì€ ì¢‹ìœ¼ë‚˜ ìê¸° ì£¼ì¥ê³¼ ìì‹ ê°ì´ ë‹¤ì†Œ ë¶€ì¡±í•¨
</details>

<details>
<summary>ì„œë¡œì—ê²Œ í”¼ë“œë°±</summary>

- Kiseok: êµ¬í˜„ ëŠ¥ë ¥ì´ ë„ˆë¬´ ë›°ì–´ë‚˜ì…”ì„œ í˜¼ì í•´ê²°í•˜ì§€ ëª»í•˜ëŠ” ë¶€ë¶„ë“¤ì„ ì–´ë ¤ì›€ì—†ì´ í•´ê²°í•´ ì£¼ì‹œê³  ì˜ ì•Œë ¤ì£¼ì…¨ìŠµë‹ˆë‹¤.
- ì¥¬ë´‰ì´ : ì œê°€ ìƒê°í•˜ì§€ ëª»í•œ ë¶€ë¶„ì„ Kiseokì´ ë§ì´ ì•Œê³  ìˆì–´ ë„ì›€ì´ ë§ì´ë˜ê³  ë°°ìš¸ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. ë•ë¶„ì— í° íŠ¸ëŸ¬ë¸”ì—†ì´ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.
</details>
